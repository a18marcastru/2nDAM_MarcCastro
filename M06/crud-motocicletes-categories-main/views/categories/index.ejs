<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Listado de CategorÃ­as</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <h1>ğŸ“‚ CategorÃ­as de Motocicletas</h1>
  <a href="/categories/nou">â• Crear Nueva CategorÃ­a</a>
  <a href="/">ğŸ  Volver a Inicio</a>

  <% if (categories.length > 0) { %>
    <% categories.forEach(categoria => { %>
      <div class="categoria">
        <h2><%= categoria.nombre %></h2>
        <a href="/categories/<%= categoria.id %>/editar">âœï¸ Editar</a>
        <form action="/categories/<%= categoria.id %>/eliminar" method="POST" style="display:inline;">
          <button type="submit">ğŸ—‘ï¸ Eliminar</button>
        </form>

        <% if (categoria.Motocicleta.length > 0) { %>
          <h3>ğŸï¸ Motocicletas en esta categorÃ­a:</h3>
          <ul>
            <% categoria.Motocicleta.forEach(moto => { %>
              <li><%= moto.marca %> - <%= moto.model %> (Potencia: <%= moto.potencia %> CV)</li>
            <% }); %>
          </ul>
        <% } else { %>
          <p>âŒ No hay motocicletas en esta categorÃ­a.</p>
        <% } %>
      </div>
    <% }); %>
  <% } else { %>
    <p>âš ï¸ No hay categorÃ­as registradas.</p>
  <% } %>
</body>
</html>
